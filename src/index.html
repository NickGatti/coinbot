<html>
<head>
<style>
body {
  text-decoration: none;
  color: black;
  background: white;
  font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
}
.infoBox {
  float: left;
  overflow: auto;
  padding: 10px;
  margin: 10px;
  height: inherit;
  min-height: 50%;
  min-width: 20%;
}
.fl {
  float: left;
  text-align: left;
}
.fontStand {
  font-weight: normal;
  font-size: 13px;
  text-decoration: none;
}
.miniID {
  font-size: 60%;
  font-stretch: condensed;
  font-kerning: auto;
  text-indent: 0;
  margin-top: .2rem;
}
.statement {
  font-weight: bold;
  overflow: auto;
  font-stretch: condensed;
  font-size: 0.90rem;
}
.fr {
  float: right;
  text-align: left;
}
.wrapper {
  display: flex;
  justify-content: center;
  flex-direction: row;
  flex-wrap: wrap;
}
.bottom {
  margin-bottom: 26px;
}
#title {
  width: 200px;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: -4.5rem;
  margin-top: 0;
  text-align: center;
}
#innerTitle {
  margin-bottom: -6rem;
  margin-top: 2px;
  padding: -2em;
}
.outerChart {
  height: 80px;
  width: 100%;
  background: grey;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-start;
}
#inBuy {
  height: 40px;
  width: 200px;
  background: salmon;
  color: black;
  float: left;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 6px;
}
.innerBuy {
  height: 80px;
  background: salmon;
}
#inSell {
  height: 40px;
  width: 200px;
  background: skyblue;
  color: black;
  float: left;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-left: 6px;
  margin-right: 6px;
  margin-bottom: 6px;
}
.innerSell {
  height: 80px;
  background: skyblue;
}
#inRest {
  height: 40px;
  width: 200px;
  background: orange;
  color: black;
  float: left;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 6px;
}
.innerRest {
  height: 80px;
  background: orange;
}
#chartWrapper {
  width: 85%;
  margin-left: auto;
  margin-right: auto;
  padding: 30px;
}
.chartText {
  text-shadow: 1px 0px 1px rgba(150, 150, 150, 1);
}
.tight {
  margin-top: -2px;
  margin-bottom: -2px;
}
.pieStyle {
  width: 50%;
  height: 400px;
  float: left;
}
.pieWrap {
  width: 85%;
  margin-top: 20px;
  margin-left: auto;
  margin-right: auto;
}
</style>
</<head>
<body>
  <!-- <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script> -->

  <div id ='title'>
    <h1>Coinscraper</h1>
    <div>
      <div class="fr currentOrder" id='innerTitle'></div>
      <h3>Current Order #</h3>
    </div>
  </div>

  <br>

  <div class="wrapper">

    <div class="infoBox">

      <h2>Market Info</h2>

      <div class="bottom">
        <div id='printSell' class="fr"></div>
        <p class="statement">Current Lowest Sell Price:</p>
      </div>

      <div class="bottom">
        <div id='printBuy' class="fr"></div>
        <p class="statement">Current Highest Buy Price:</p>
      </div>

      <div class="bottom">
        <div id='totalSells' class="fr"></div>
        <p class="statement">Total Number of Sell Orders:</p>
      </div>

      <div class="bottom">
        <div id='totalBuys' class="fr"></div>
        <p class="statement">Total Number of Buy Orders:</p>
      </div>

      <div class="bottom">
        <div class='fr'></div>
        <p class="statement">Orders Valued Over 400 USD:</p>
      </div>

      <div class="tight">
        <div class='realSells fr'></div>
        <p class="fontStand">Real Sell Orders:</p>
      </div>

      <div class="tight">
        <div class='realBuys fr'></div>
        <p class="fontStand">Real Buy Orders:</p>
      </div>

      <div class="tight">
        <div class='realSellPercent fr'></div>
        <p class="fontStand">Percent Real Sells:</p>
      </div>

      <div class="tight">
        <div class='realBuyPercent fr'></div>
        <p class="fontStand">Percent Real Buys:</p>
      </div>

      <div class='bottom'>
        <div class='realTotalPercent fr'></div>
        <p class="fontStand">Total Percent Bad Orders:</p>
      </div>

      <div class="bottom">
        <div class='fr'></div>
        <p class="statement">Orders Valued Over 6000 USD:</p>
      </div>

      <div class="tight">
        <div class='realSells fr'></div>
        <p class="fontStand">Real Sell Orders:</p>
      </div>

      <div class="tight">
        <div class='realBuys fr'></div>
        <p class="fontStand">Real Buy Orders:</p>
      </div>

      <div class="tight">
        <div class='realSellPercent fr'></div>
        <p class="fontStand">Percent Real Sells:</p>
      </div>

      <div class="tight">
        <div class='realBuyPercent fr'></div>
        <p class="fontStand">Percent Real Buys:</p>
      </div>

      <div class='tight'>
        <div class='realTotalPercent fr'></div>
        <p class="fontStand">Total Percent Bad Orders:</p>
      </div>

    </div>



    <div class="infoBox">

      <h2>Current Buy Order Info</h2>

      <ul>
        <li class="fontStand">State: <div class="fr fontStand" id='placingBuy'></div></li>
        <li class="fontStand">Place Price: <div class="fr fontStand" id='placingPriceBuy'></div></li>
        <li class="fontStand">Place Size: <div class="fr fontStand" id='placingSizeBuy'></div></li>
      </ul>

      <h3>Updating Order:</h3>

      <ul>
        <li class="fontStand">New Price: <div class="fr fontStand" id='newPriceUpdateBuy'></div></li>
        <li class="fontStand">Old Price: <div class="fr fontStand" id='oldPriceUpdateBuy'></div></li>
        <li class="fontStand">Difference: <div class="fr fontStand" id='differenceBuy'></div></li>
      </ul>

      <h3>My Buy Order Info:</h3>

      <div>
        <div class="fr miniID" id='myBuyID'></div>
        <p class="fontStand">ID:</p>
      </div>

      <div>
        <div class="fr" id='myBuyPrice'></div>
        <p class="fontStand">Current Price:</p>
      </div>

      <div>
        <div class="fr" id='myOldBuyPrice'></div>
        <p class="fontStand">Old Price:</p>
      </div>

      <div>
        <div class="fr" id='buyMargin'></div>
        <p class="fontStand">Margin:</p>
      </div>

      <div>
        <div class="fr" id='buyTotal'></div>
        <p class="fontStand">Investment:</p>
      </div>

      <h3>Gap Info</h3>

      <div>
        <div class="fr" id='orderGapBuy'></div>
        <p class="fontStand">Orders:</p>
      </div>

      <div>
        <div class="fr" id='dollarGapBuy'></div>
        <p class="fontStand">Dollars:</p>
      </div>

    </div>



    <div class="infoBox">

      <h2>Current Sell Order Info</h2>

      <ul>
        <li class="fontStand">State: <div class="fr fontStand" id='placingSell'></div></li>
        <li class="fontStand">Place Price: <div class="fr fontStand" id='placingPriceSell'></div></li>
        <li class="fontStand">Place Size: <div class="fr fontStand" id='placingSizeSell'></div></li>
      </ul>

      <h3>My Sell Order Info:</h3>

      <div>
        <div class="fr miniID" id='mySellID'></div>
        <p class="fontStand">ID:</p>
      </div>

      <div>
        <div class="fr" id='mySellPrice'></div>
        <p class="fontStand">Current Price</p>
      </div>

      <div>
        <div class="fr" id='myOldSellPrice'></div>
        <p class="fontStand">Old Price:</p>
      </div>

      <div>
        <div class="fr" id='sellMargin'></div>
        <p class="fontStand">Margin:</p>
      </div>

      <div>
        <div class="fr" id='sellTotal'></div>
        <p class="fontStand">Investment:</p>
      </div>

      <h3>Gap Info</h3>

      <div>
        <div class="fr" id='orderGapSell'></div>
        <p class="fontStand">Orders:</p>
      </div>

      <div>
        <div class="fr" id='dollarGapSell'></div>
        <p class="fontStand">Dollars:</p>
      </div>

    </div>


    <div class="infoBox">
      <h2>Amount Made Info</h2>
      <h3>Total Amount Made</h3>
      <p id='totalAmountMade'></p>
      <h3>Current Order Amount Made</h3>
      <p id='amountMade'></p>
    </div>

  </div>

<div id='chartWrapper'>
  <div>
    <div id="inBuy">
      Good Buys
    </div>
    <div id="inSell">
      Good Sells
    </div>
    <div id="inRest">
      Ignored Orders
    </div>
  </div>
  <br><br><br>
    <div class='outerChart' >
      <div class='innerBuy'>
      </div>
      <div class='innerSell'>
      </div>
      <div class='innerRest'>
      </div>
    </div>
    <div class="fl chartText">
      Orders Valued Over 400 Dollars
    </div>

    <div class='outerChart'>
      <div class='innerBuy'>
      </div>
      <div class='innerSell'>
      </div>
      <div class='innerRest'>
      </div>
    </div>
    <div class="fl chartText">
      Orders Valued Over 6000 Dollars
    </div>
  </div>
  <div class="pieWrap">
    <div id="piechart1" class="pieStyle"></div>
    <div id="piechart2" class="pieStyle"></div>
  </div>
  <!--<script src='front.js'></script>-->
  <script>

var oReq = new XMLHttpRequest();
var google = '';
var pageData = {};

loadScript('https://www.gstatic.com/charts/loader.js', (() => {
  return;
}));

setInterval(() => {
  fetch('https://bot-nickgatti.c9users.io/api', {method: 'no-cors'}, {
    method: 'GET'
  }).then(function(data) {
    return data.json();
  }).then(function(data) {
    //console.log('Yes')
    pageData = data;
    activate();
  }).catch((err) => {
    //console.log('No')
    oReq.addEventListener("load", reqListener);
    oReq.open("GET", "https://bot-nickgatti.c9users.io/api");
    oReq.send();
    activate();
  });
}, 400);

function reqListener () {
  pageData = JSON.parse(this.responseText);
  oReq.removeEventListener("load", reqListener)
}

function activate() {
    popOrderPlacementData();
    pageData.myOrderIterator % 2 ? popLowCriteraMarketData() : popHighCriteriaMarketData();
    popOtherMarketData();
    popData();
    marketData();
    makePie();
}

var docBuyStateID  = document.getElementById('placingBuy');
var docBuyPriceID  = document.getElementById('placingPriceBuy');
var docBuySizeID   = document.getElementById('placingSizeBuy');
var docSellStateID = document.getElementById('placingSell');
var docSellPriceID = document.getElementById('placingPriceSell');
var docSellSizeID  = document.getElementById('placingSizeSell');

var popOrderPlacementData = (() => {
  docBuyStateID.innerHTML      = pageData.buyState
    ? docBuyStateID.innerHTML  = pageData.buyState.charAt(0).toUpperCase() + pageData.buyState.slice(1)
    : docBuyStateID.innerHTML  = 'N/A';

  docBuyPriceID.innerHTML      = pageData.outPutLoggingEtc.placeTalk.buy.price
    ? '$' + pageData.outPutLoggingEtc.placeTalk.buy.price.toFixed(2)
    : docBuyPriceID.innerHTML  = 'Not placing';

  docBuySizeID.innerHTML       = pageData.outPutLoggingEtc.placeTalk.buy.size
    ? '#' + pageData.outPutLoggingEtc.placeTalk.buy.size
    : docBuySizeID.innerHTML   = 'Not placing';

  docSellStateID.innerHTML     = pageData.sellState
    ? pageData.sellState.charAt(0).toUpperCase() + pageData.sellState.slice(1)
    : docSellStateID.innerHTML = 'N/A';

  docSellPriceID.innerHTML     = pageData.outPutLoggingEtc.placeTalk.sell.price
    ? '$' + pageData.outPutLoggingEtc.placeTalk.sell.price.toFixed(2)
    : docSellPriceID.innerHTML = 'Not placing';

  docSellSizeID.innerHTML      = pageData.outPutLoggingEtc.placeTalk.sell.size
    ? '#' + pageData.outPutLoggingEtc.placeTalk.sell.size
    : docSellSizeID.innerHTML  = 'Not placing';

});

var docRealSells        = document.querySelectorAll('.realSells');
var docRealBuys         = document.querySelectorAll('.realBuys');
var docRealSellPercent  = document.querySelectorAll('.realSellPercent');
var docRealBuyPercent   = document.querySelectorAll('.realBuyPercent');
var docRealTotalPercent = document.querySelectorAll('.realTotalPercent');
var docTotalSells       = document.getElementById('totalSells');
var docTotalBuys        = document.getElementById('totalBuys');

var popLowCriteraMarketData = (() => {
  docRealSells[0].innerHTML        = pageData.outPutLoggingGood.realSells
    ? '#' + numberWithCommas(pageData.outPutLoggingGood.realSells)
    : 'Error loading Data';
  docRealBuys[0].innerHTML = pageData.outPutLoggingGood.realBuys
    ? '#' + numberWithCommas(pageData.outPutLoggingGood.realBuys)
    : 'Error loading Data';
  docRealSellPercent[0].innerHTML  = pageData.outPutLoggingGood.goodSellPercent
    ? pageData.outPutLoggingGood.goodSellPercent.toFixed(2) + '%'
    : 'Error loading Data';
  docRealBuyPercent[0].innerHTML   = pageData.outPutLoggingGood.goodBuyPercent
    ? pageData.outPutLoggingGood.goodBuyPercent.toFixed(2) + '%'
    : 'Error loading Data';
  docRealTotalPercent[0].innerHTML = pageData.outPutLoggingGood.totalBadPercent
    ? pageData.outPutLoggingGood.totalBadPercent.toFixed(2) + '%'
    : 'Error loading Data';
});

var popHighCriteriaMarketData = (() => {
  docRealSells[1].innerHTML        = pageData.outPutLoggingGood.realSells
    ? '#' + numberWithCommas(pageData.outPutLoggingGood.realSells)
    : 'Error loading Data';

  docRealBuys[1].innerHTML         = pageData.outPutLoggingGood.realBuys
    ? '#' + numberWithCommas(pageData.outPutLoggingGood.realBuys)
    : 'Error loading Data';

  docRealSellPercent[1].innerHTML  = pageData.outPutLoggingGood.goodSellPercent
    ? pageData.outPutLoggingGood.goodSellPercent.toFixed(2) + '%'
    : 'Error loading Data';

  docRealBuyPercent[1].innerHTML   = pageData.outPutLoggingGood.goodBuyPercent
    ? pageData.outPutLoggingGood.goodBuyPercent.toFixed(2) + '%'
    : 'Error loading Data';

  docRealTotalPercent[1].innerHTML = pageData.outPutLoggingGood.totalBadPercent
    ? pageData.outPutLoggingGood.totalBadPercent.toFixed(2) + '%'
    : 'Error loading Data';
});

var popOtherMarketData = (() => {
  docTotalBuys.innerHTML  = pageData.outPutLoggingGood.totalSells
    ? '#' + numberWithCommas(pageData.outPutLoggingGood.totalSells)
    : 'Error loading Data';
    
  docTotalSells.innerHTML = pageData.outPutLoggingGood.totalBuys
    ? '#' + numberWithCommas(pageData.outPutLoggingGood.totalBuys)
    : 'Error loading Data';
});

var popData = (() => {

  //ETC info
  document.getElementById('totalAmountMade').innerHTML = pageData.outPutLoggingEtc.totalAmountMade ? '$' + pageData.outPutLoggingEtc.totalAmountMade.toFixed(2) : document.getElementById('totalAmountMade').innerHTML = 'N/A';
  document.getElementById('amountMade').innerHTML = pageData.outPutLoggingEtc.amountMade ? '$' + pageData.outPutLoggingEtc.amountMade.toFixed(2) : document.getElementById('amountMade').innerHTML = 'N/A';
  document.getElementById('printSell').innerHTML = pageData.lowestSellPrice ? '$' + pageData.lowestSellPrice.toFixed(2) : document.getElementById('printSell').innerHTML = 'N/A';
  document.getElementById('printBuy').innerHTML = pageData.highestBuyPrice ? '$' + pageData.highestBuyPrice.toFixed(2) : document.getElementById('printBuy').innerHTML = 'N/A';
  document.getElementsByClassName('currentOrder')[0].innerHTML = pageData.myOrderIterator != undefined ? pageData.myOrderIterator + 1 : document.getElementsByClassName('currentOrder')[0].innerHTML = 'Restarting...';
  //ETC Info

  //BUY ORDER
  //document.getElementById('talkAboutUpdatingBuy').innerHTML = pageData.outPutLoggingBuy.talkAboutUpdating ? pageData.outPutLoggingBuy.talkAboutUpdating : document.getElementById('talkAboutUpdatingBuy').innerHTML = 'Hasn\'t Changed Price Yet';
  document.getElementById('newPriceUpdateBuy').innerHTML = pageData.outPutLoggingBuy.difference ? '$' + pageData.outPutLoggingBuy.newPriceUpdate.toFixed(2) : document.getElementById('newPriceUpdateBuy').innerHTML = 'No new update';
  document.getElementById('oldPriceUpdateBuy').innerHTML = pageData.outPutLoggingBuy.difference ? '$' + pageData.outPutLoggingBuy.oldPriceUpdate.toFixed(2) : document.getElementById('oldPriceUpdateBuy').innerHTML = 'N/A';
  document.getElementById('differenceBuy').innerHTML = pageData.outPutLoggingBuy.difference ? '$' + pageData.outPutLoggingBuy.difference.toFixed(2) : document.getElementById('differenceBuy').innerHTML = 'N/A';
  if (pageData.outPutLoggingBuy.myBuyOrder) {
    document.getElementById('myBuyID').innerHTML = pageData.outPutLoggingBuy.myBuyOrder.order_id ? pageData.outPutLoggingBuy.myBuyOrder.order_id : document.getElementById('myBuyID').innerHTML = 'N/A';
    document.getElementById('myBuyPrice').innerHTML = pageData.outPutLoggingBuy.myBuyOrder.price ? '$' + pageData.outPutLoggingBuy.myBuyOrder.price.toFixed(2) : document.getElementById('myBuyPrice').innerHTML = 'N/A';
    document.getElementById('myOldBuyPrice').innerHTML = pageData.outPutLoggingBuy.myBuyOrder.oldPrice ? '$' + pageData.outPutLoggingBuy.myBuyOrder.oldPrice.toFixed(2) : document.getElementById('myOldBuyPrice').innerHTML = 'N/A';
    document.getElementById('buyMargin').innerHTML = pageData.outPutLoggingBuy.myBuyOrder.oldMargin ? pageData.outPutLoggingBuy.myBuyOrder.oldMargin.toFixed(4) + '%' : document.getElementById('buyMargin').innerHTML = 'N/A';
    document.getElementById('orderGapBuy').innerHTML = pageData.outPutLoggingBuy.myBuyOrder.oldOrdersToGo ? '#' + pageData.outPutLoggingBuy.myBuyOrder.oldOrdersToGo : document.getElementById('orderGapBuy').innerHTML = 'N/A';
    document.getElementById('dollarGapBuy').innerHTML = pageData.outPutLoggingBuy.myBuyOrder.oldAmountToGo ? '$' + numberWithCommas(pageData.outPutLoggingBuy.myBuyOrder.oldAmountToGo.toFixed(2)) : document.getElementById('dollarGapBuy').innerHTML = 'N/A';
    document.getElementById('buyTotal').innerHTML = 20 * pageData.outPutLoggingBuy.myBuyOrder.price ? '$' + numberWithCommas((20 * pageData.outPutLoggingBuy.myBuyOrder.price).toFixed(2)) : document.getElementById('buyTotal').innerHTML = 'N/A';
  } else {
    document.getElementById('myBuyID').innerHTML = 'No existing order';
    document.getElementById('myBuyPrice').innerHTML = 'No existing order';
    document.getElementById('myOldBuyPrice').innerHTML = 'No existing order';
    document.getElementById('buyMargin').innerHTML = 'No existing order';
    document.getElementById('orderGapBuy').innerHTML = 'No existing order';
    document.getElementById('dollarGapBuy').innerHTML = 'No existing order';
    document.getElementById('buyTotal').innerHTML = 'No existing order';
  }
  //BUY ORDER

  //SELL ORDER
  if (pageData.outPutLoggingSell.mySellOrder) {
    document.getElementById('mySellID').innerHTML = pageData.outPutLoggingSell.mySellOrder.order_id ? pageData.outPutLoggingSell.mySellOrder.order_id : document.getElementById('mySellID').innerHTML = 'No existing order';
    document.getElementById('mySellPrice').innerHTML = pageData.outPutLoggingSell.mySellOrder.price ? '$' + pageData.outPutLoggingSell.mySellOrder.price.toFixed(2) : document.getElementById('mySellPrice').innerHTML = 'N/A';
    document.getElementById('myOldSellPrice').innerHTML = pageData.outPutLoggingSell.mySellOrder.oldPrice ? '$' + pageData.outPutLoggingSell.mySellOrder.oldPrice.toFixed(2) : document.getElementById('myOldSellPrice').innerHTML = 'N/A';
    document.getElementById('sellMargin').innerHTML = pageData.outPutLoggingSell.mySellOrder.oldMargin ? pageData.outPutLoggingSell.mySellOrder.oldMargin.toFixed(4) + '%' : document.getElementById('sellMargin').innerHTML = 'N/A';
    document.getElementById('orderGapSell').innerHTML = pageData.outPutLoggingSell.mySellOrder.oldOrdersToGo ? '#' + pageData.outPutLoggingSell.mySellOrder.oldOrdersToGo : document.getElementById('orderGapSell').innerHTML = 'N/A';
    document.getElementById('dollarGapSell').innerHTML = pageData.outPutLoggingSell.mySellOrder.oldAmountToGo ? '$' + numberWithCommas(pageData.outPutLoggingSell.mySellOrder.oldAmountToGo.toFixed(2)) : document.getElementById('dollarGapSell').innerHTML = 'N/A';
    document.getElementById('sellTotal').innerHTML = 20 * pageData.outPutLoggingSell.mySellOrder.price ? '$' + numberWithCommas((20 * pageData.outPutLoggingSell.mySellOrder.price).toFixed(2)) : document.getElementById('sellTotal').innerHTML = 'N/A';
  } else {
    document.getElementById('mySellID').innerHTML = 'No existing order';
    document.getElementById('mySellPrice').innerHTML = 'No existing order';
    document.getElementById('myOldSellPrice').innerHTML = 'No existing order';
    document.getElementById('sellMargin').innerHTML = 'No existing order';
    document.getElementById('orderGapSell').innerHTML = 'No existing order';
    document.getElementById('dollarGapSell').innerHTML = 'No existing order';
    document.getElementById('sellTotal').innerHTML = 'No existing order';
  }
  //SELL ORDER
});

//START>> Number with commas
//=============================================
//=============================================
//=============================================
function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}
//=============================================
//=============================================
//=============================================
//END>> Number with Commas
//=============================================
//=============================================
//=============================================
function marketData() {
  if (pageData.myOrderIterator % 2) document.querySelectorAll('.innerBuy')[0].style.width = pageData.outPutLoggingGood.goodBuyPercent + '%';
  if (pageData.myOrderIterator % 2) document.querySelectorAll('.innerSell')[0].style.width = pageData.outPutLoggingGood.goodSellPercent + '%';
  if (pageData.myOrderIterator % 2) document.querySelectorAll('.innerRest')[0].style.width = pageData.outPutLoggingGood.totalBadPercent + '%';
  if (!(pageData.myOrderIterator % 2)) document.querySelectorAll('.innerBuy')[1].style.width = pageData.outPutLoggingGood.goodBuyPercent + '%';
  if (!(pageData.myOrderIterator % 2)) document.querySelectorAll('.innerSell')[1].style.width = pageData.outPutLoggingGood.goodSellPercent + '%';
  if (!(pageData.myOrderIterator % 2)) document.querySelectorAll('.innerRest')[1].style.width = pageData.outPutLoggingGood.totalBadPercent + '%';
}

function makePie() {
  if (pageData.myOrderIterator % 2) {
    google.charts.load('current', {
      'packages': ['corechart']
    });
    google.charts.setOnLoadCallback(drawChart1);
  } else {
    google.charts.load('current', {
      'packages': ['corechart']
    });
    google.charts.setOnLoadCallback(drawChart2);
  }

  function drawChart1() {
    let firstBuyPercent = pageData.outPutLoggingGood.goodBuyPercent;
    let firstSellPercent = pageData.outPutLoggingGood.goodSellPercent;
    let firstTotalBadPercent = pageData.outPutLoggingGood.totalBadPercent;
    var data = google.visualization.arrayToDataTable([
      ['Task', 'Orders valued over 400 USD'],
      ['Good Buys', firstBuyPercent],
      ['Good Sells', firstSellPercent],
      ['Ignored orders', firstTotalBadPercent]
    ]);

    var options = {
      title: 'Orders valued over 400 USD'
    };

    var chart = new google.visualization.PieChart(document.getElementById('piechart1'));

    chart.draw(data, options);
  }

  function drawChart2() {
    let secondBuyPercent = pageData.outPutLoggingGood.goodBuyPercent;
    let secondSellPercent = pageData.outPutLoggingGood.goodSellPercent;
    let secondTotalBadPercent = pageData.outPutLoggingGood.totalBadPercent;
    var data = google.visualization.arrayToDataTable([
      ['Task', 'Orders valued over 6000 USD'],
      ['Good Buys', secondBuyPercent],
      ['Good Sells', secondSellPercent],
      ['Ignored orders', secondTotalBadPercent]
    ]);

    var options = {
      title: 'Orders valued over 6000 USD'
    };

    var chart = new google.visualization.PieChart(document.getElementById('piechart2'));

    chart.draw(data, options);
  }
}

function loadScript(url, callback) {

  var script = document.createElement('script');
  script.type = 'text/javascript';

  if (script.readyState) { //IE
    script.onreadystatechange = function() {
      if (script.readyState == 'loaded' ||
        script.readyState == 'complete') {
        script.onreadystatechange = null;
        callback();
      }
    };
  } else { //Others
    script.onload = function() {
      callback();
    };
  }

  script.src = url;
  document.getElementsByTagName('head')[0].appendChild(script);
}

  </script>
</body>
</html>
